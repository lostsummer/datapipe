<?xml version="1.0" encoding="UTF-8"?>
<config>
    <httpserver enable="false">
    </httpserver>
<redis keycommonpre="EMoney.TongJiService"></redis>
<!--注意aliapi使用mongo 71, redis 使用172.31.23.16:6394-->
<mongodbs>
    <mongodb name="mongo_ali" serverurl="mongodb://webloguser:weblogem123@172.31.37.71:27017/emoney_tongji" dbname="emoney_tongji"></mongodb>
</mongodbs>
<kafka serverurl="172.31.37.35:9092,172.31.37.36:9092,172.31.37.37:9092"></kafka>
<!--注意路径 /emoney/dp_aliapi/data_task2-->
<log filepath="/emoney/dp_aliapi/datapipe_task2/logs"></log>
<tasks>
    <task enable="true" taskid="PageView" fromserver="172.31.23.16:6394" fromqueue="EMoney.DataPipe:PageView" targettype="mongodb" targetname="mongo_ali" targetvalue="capped_datapipe_pageview"  triggerserver="172.31.23.16:6394"  triggerqueue="EMoney.DataPipe:PageView_kafka" counterserver="172.31.23.16:6394" counterkey="EMoney.DataPipe:PageViewCounter"/>
    <task enable="true" taskid="PageView_Kafka" fromserver="172.31.23.16:6394" fromqueue="EMoney.DataPipe:PageView_kafka" targettype="kafka" targetvalue="datapipe-pageview"/>
    <task enable="true" taskid="PageClick" fromserver="172.31.23.16:6394" fromqueue="EMoney.DataPipe:PageClick" targettype="mongodb" targetname="mongo_ali" targetvalue="capped_datapipe_pageclick"  triggerserver="172.31.23.16:6394"  triggerqueue="EMoney.DataPipe:PageClick_kafka" counterserver="172.31.23.16:6394" counterkey="EMoney.DataPipe:PageClickCounter"/>
    <task enable="true" taskid="PageClick_Kafka" fromserver="172.31.23.16:6394" fromqueue="EMoney.DataPipe:PageClick_kafka" targettype="kafka" targetvalue="datapipe-pageclick"/>
    <task enable="true" taskid="PayLog" fromserver="172.31.23.16:6394" fromqueue="EMoney.Tongji:Data:PayLogStringQueue" targettype="mongodb" targetname="mongo_ali" targetvalue="capped_datapipe_paylog"/>
    <task enable="true" taskid="Mobile_PageRecords" fromserver="172.31.23.16:6394" fromqueue="EMoney.DataPipe:Mobile:PageRecords" targettype="mongodb" targetname="mongo_ali" targetvalue="capped_mobile_pagerecords"/>
    <task enable="true" taskid="Mobile_EventRecords" fromserver="172.31.23.16:6394" fromqueue="EMoney.DataPipe:Mobile:EventRecords" targettype="mongodb" targetname="mongo_ali" targetvalue="capped_mobile_eventrecords"/>
    <task enable="true" taskid="Mobile_LoginInfo" fromserver="172.31.23.16:6394" fromqueue="EMoney.DataPipe:Mobile:LoginInfo" targettype="mongodb" targetname="mongo_ali" targetvalue="capped_mobile_logininfo" triggerserver="172.31.23.16:6394"  triggerqueue="EMoney.DataPipe:Mobile:LoginInfo_ZY"/>
</tasks>
</config>
